<!--
  Generated template for the DevisPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <button ion-button menuToggle ><ion-icon name="menu"></ion-icon></button>
    <ion-title>Tous les devis</ion-title>
  </ion-navbar>

</ion-header>

<ion-content padding>

    <ion-card *ngFor="let element of commandes" (click)="afficherDetailCommande(element)">

        <ion-item>
          <h2 text-wrap>{{element.prestation.nom}}</h2>   
          <p *ngIf="element.dateCreation">Créé le {{element.dateCreation | date: 'dd/MM/yy HH:mm'}}</p> 
          <ion-note  *ngIf="!element.byC2S" text-center item-end>{{element.propositions.length}} <br>{{ element.propositions.length > 1 ? 'réponses' : 'réponse' }}</ion-note>    
             
        </ion-item>
      
        <img src="{{prestationImageUrl + element.prestation.image}}">
      
        <ion-card-content>
          <p *ngIf="!element.client" ion-text color="danger">Attention Client inconnu - Demande à supprimer</p>
          <p *ngIf="element.client"><b>Client : </b><span text-wrap>{{element.client.nom + " " + element.client.prenom}}</span></p>
          <p *ngIf="element.date"><ion-icon name="calendar"></ion-icon> {{element.date | date: 'dd/MM/yy'}}</p><br>
          <p *ngIf="element.client && element.information"text-wrap><b>Informations fournies par le client</b><br>"{{element.information}}"</p>
          <p *ngIf="element.byC2S"><br><strong>Prestataire choisi </strong>: C2S</p>
          <p *ngIf="!element.byC2S && element.prestataireChoisi "><br><strong>Prestataire choisi </strong>: {{ element.prestataireChoisi.utilisateur.nom + " " + element.prestataireChoisi.utilisateur.prenom}}<br>
          </p>
        </ion-card-content>
    </ion-card>    


 <!-- <ion-list>
    <ion-item *ngFor="let element of commande" (click)="afficherDetailCommande(element)">            
      <strong>{{element.prestation.nom}}</strong><br>
       Date: <em >{{element.date | date: 'dd/MM/yy'}}</em><br>
      <b>Client</b><br><span text-wrap>{{element.client.nom + " " + element.client.prenom}}</span><br>
      <b>Informations</b><br><span class="commande-info-txt" text-wrap>{{element.information}}</span>
      <button ion-button item-start *ngIf="!isEnCours(element)" color="secondary">Valider</button>                 
    </ion-item>
  </ion-list>-->
</ion-content>
